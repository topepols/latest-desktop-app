:root{--bg:#f5f7fb;--accent:#2f80ed;--muted:#6b7280}
*{box-sizing:border-box;font-family:Inter,Roboto,Arial,Helvetica,sans-serif}
body{margin:0;background:var(--bg);color:#0f172a}
.app{display:flex;height:100vh}
.sidebar{width:220px;padding:20px;background:#0b1220;color:#fff;display:flex;flex-direction:column;justify-content:space-between}
.brand{font-size:18px;margin-bottom:10px}
.brand span{color:var(--accent)}
.nav-item{list-style:none;padding:10px;border-radius:6px;cursor:pointer}
.nav-item.active,.nav-item:hover{background:rgba(255,255,255,0.06)}
.sidebar-footer{font-size:12px;color:#cbd5e1}
.main{flex:1;padding:20px;overflow:auto}
.view{display:none}
.view.active-view{display:block}
.view-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.small-info{display:flex;gap:12px}
/* Container for the two boxes */
.cards {
  display: grid;
  /* 1fr = "Free Space" (Graph), 350px = Fixed Width (Alerts) */
  grid-template-columns: 1fr 350px; 
  gap: 20px;
  /* Enforce a specific height so they are always the same height */
  height: 400px; 
  margin-top: 20px;
}

/* Common Card Styling */
.card {
  background: #fff;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(15,23,42,0.06);
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Prevents content from spilling out */
}

/* Specific fix for the Graph Card to prevent breaking */
.card.graph-card {
  min-width: 0; /* CRITICAL: Prevents grid blowout on resize */
  position: relative;
}

/* Ensure the Alerts list scrolls if it gets too long, rather than stretching the box */
.alerts {
  overflow-y: auto;
  flex: 1; /* Fills remaining height of the card */
  padding-right: 5px;
}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:8px;border-bottom:1px solid #eef2f7;text-align:left}
.btn{padding:8px 10px;border-radius:6px;border:0;cursor:pointer}
.btn.primary{background:var(--accent);color:#fff}
.login-card{max-width:420px;margin:40px auto;padding:20px;background:#fff;border-radius:8px}
.login-form label{display:block;margin-bottom:8px}
.row{display:flex;gap:8px}
.error{color:#ef4444}
.modal{position:fixed;left:0;top:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.5)}
.modal.open{display:flex}
.modal-card{background:#fff;padding:16px;border-radius:8px;min-width:320px}
.search-bar{padding:8px;border-radius:6px;border:1px solid #d1d5db;margin:12px 0;min-width:220px}
.unit-toggle{display:flex;gap:10px;align-items:center}
.alerts{padding-left:16px}
.table button{margin-right:6px}
/* Fix to prevent the sidebar button from covering the View Titles */
.view-header h2 {
    margin-left: 60px; /* 50px for the button + 10px extra space */
}
/* --- Borrowing View Styling --- */
#view-borrowing {
  padding: 20px;
}

#view-borrowing .view-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

#view-borrowing .view-header h2 {
  margin: 0;
}

#view-borrowing .btn {
  margin-left: 5px;
  margin-bottom: 5px;
}

#view-borrowing .card.full {
  padding: 10px;
  background-color: #fff;
  border-radius: 6px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  overflow-x: auto;
}

#borrowingTable {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

#borrowingTable th,
#borrowingTable td {
  padding: 8px 10px;
  border: 1px solid #ccc;
  text-align: left;
}

#borrowingTable th {
  background-color: #f0f0f0;
}

#borrowingTable tr:nth-child(even) {
  background-color: #fafafa;
}

/* Modal Borrowing Form */
#modalBorrow .modal-card {
  width: 350px;
  padding: 20px;
}

#modalBorrow label {
  display: block;
  margin-bottom: 10px;
}

#modalBorrow select,
#modalBorrow input {
  width: 100%;
  padding: 6px 8px;
  margin-top: 4px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

/* Unit Toggle in Borrowing Modal */
.unit-toggle {
  display: flex;
  gap: 15px;
  margin-top: 5px;
}

.unit-toggle label {
  display: flex;
  align-items: center;
  gap: 5px;
}

#modalBorrow .row {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 15px;
}
/* --- SIDEBAR SETUP (Modified for Sliding) --- */
.sidebar {
  /* Use position: fixed to keep it locked to the left edge */
  position: fixed; 
  top: 0;
  /* Start the sidebar off-screen to the left (220px is your width) */
  left: -220px; 
  
  /* Original styles */
  width: 220px;
  height: 100vh;
  background: #0b1220; 
  color: #fff;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  padding: 20px 0; /* Use horizontal padding on inner elements */
  justify-content: space-between;
  
  /* CRITICAL: Smooth transition for the 'left' property */
  transition: left 0.4s ease-out; 
  box-shadow: 4px 0 10px rgba(0, 0, 0, 0.4);
}

/* When the JavaScript adds the 'active' class, slide it into view */
.sidebar.active {
  left: 0;
}

/* --- THE TOGGLE BUTTON (Modified to Ride the Sidebar) --- */
#btnToggleSidebar {
  /* Make the button position relative to the sidebar container */
  position: absolute; 
  
  /* Position it 'hanging' off the right edge of the sidebar */
  right: -50px; 
  top: 15px;
  
  /* Styling to match your look */
  width: 50px;
  height: 45px;
  border: none;
  border-radius: 0 8px 8px 0; 
  background: var(--accent); /* #2f80ed */
  color: #fff;
  font-size: 1.5rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1001; /* Ensure button is always on top */
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
  transition:  0.3s;
}

/* Optional: Main content pushes over (since you had .main.sidebar-active) */
.main {
  transition: margin-left 0.4s ease-out;
  margin-left: 0;
  flex: 1;
  padding: 20px;
  overflow: auto;
}

.main.sidebar-active {
  margin-left: 220px; /* Pushes content over to match sidebar width */
}

/* --- LOGIN VIEW CENTERING --- */
/* Target the login view container specifically */
#view-login {
  height: 100vh; /* Full screen height */
  width: 100%;
  
  /* Flexbox magic to center content */
  align-items: center;     /* Vertical Center */
  justify-content: center; /* Horizontal Center */
  
  /* We keep display:none from the .view class, 
     but we need to override it when active */
}

/* When the login view is active, use Flex instead of Block */
#view-login.active-view {
  display: flex !important;
}

/* Remove old margins from the card so it centers freely */
.login-card {
  margin: 0; /* No top margin needed */
  width: 100%;
  max-width: 400px; /* Keep it nice and compact */
  
  /* Optional: Add a nice shadow/border */
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* --- SIDEBAR LAYOUT --- */
.sidebar {
  position: fixed;
  top: 0;
  left: -220px;
  width: 220px;
  height: 100vh;
  background: #0b1220;
  color: #fff;
  z-index: 1000;
  
  /* Flexbox setup */
  display: flex;
  flex-direction: column;
  padding: 20px 0;
  
  /* REMOVED 'justify-content: space-between' so we can control it manually */
  
  transition: left 0.4s ease-out;
  box-shadow: 4px 0 10px rgba(0, 0, 0, 0.4);
}

.sidebar.active {
  left: 0;
}

/* --- NAV ITEMS (The Middle Part) --- */
#navList {
  /* This makes the list take up all available space between Brand and Footer */
  flex: 1; 
  
  /* This centers the list items vertically inside that space */
  display: flex;
  flex-direction: column;
  justify-content: center;
  
  /* Reset default UL styles */
  padding: 0;
  margin: 0;
  list-style: none;
}

/* --- BRAND (Top) --- */
.brand {
  flex: 0 0 auto; /* Don't stretch */
  text-align: center;
  margin-bottom: 20px; /* Space below title */
}

/* --- FOOTER (Bottom) --- */
.sidebar-footer {
  flex: 0 0 auto; /* Don't stretch */
  margin-top: auto; /* Push to bottom just in case */
  padding: 20px;
  text-align: center;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}