:root{--bg:#f5f7fb;--accent:#2f80ed;--muted:#6b7280}
*{box-sizing:border-box;font-family:Inter,Roboto,Arial,Helvetica,sans-serif}
body{margin:0;background:var(--bg);color:#0f172a}
.app{display:flex;height:100vh}
.sidebar{width:220px;padding:20px;background:#0b1220;color:#fff;display:flex;flex-direction:column;justify-content:space-between}
.brand{font-size:18px;margin-bottom:10px}
.brand span{color:var(--accent)}
.nav-item{list-style:none;padding:10px;border-radius:6px;cursor:pointer}
.nav-item.active,.nav-item:hover{background:rgba(255,255,255,0.06)}
.sidebar-footer{font-size:12px;color:#cbd5e1}
.main{flex:1;padding:20px;overflow:auto}
.view{display:none}
.view.active-view{display:block}
.view-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.small-info{display:flex;gap:12px}
/* Container for the two boxes */
.cards {
  display: grid;
  /* 1fr = "Free Space" (Graph), 350px = Fixed Width (Alerts) */
  grid-template-columns: 1fr 350px; 
  gap: 20px;
  /* Enforce a specific height so they are always the same height */
  height: 400px; 
  margin-top: 20px;
}

/* Common Card Styling */
.card {
  background: #fff;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 4px 12px rgba(15,23,42,0.06);
  display: flex;
  flex-direction: column;
  overflow: hidden; /* Prevents content from spilling out */
}

/* Specific fix for the Graph Card to prevent breaking */
.card.graph-card {
  min-width: 0; /* CRITICAL: Prevents grid blowout on resize */
  position: relative;
}

/* Ensure the Alerts list scrolls if it gets too long, rather than stretching the box */
.alerts {
  overflow-y: auto;
  flex: 1; /* Fills remaining height of the card */
  padding-right: 5px;
}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:8px;border-bottom:1px solid #eef2f7;text-align:left}
.btn{padding:8px 10px;border-radius:6px;border:0;cursor:pointer}
.btn.primary{background:var(--accent);color:#fff}
.login-card{max-width:420px;margin:40px auto;padding:20px;background:#fff;border-radius:8px}
.login-form label{display:block;margin-bottom:8px}
.row{display:flex;gap:8px}
.error{color:#ef4444}
.modal{position:fixed;left:0;top:0;right:0;bottom:0;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.5)}
.modal.open{display:flex}
.modal-card{background:#fff;padding:16px;border-radius:8px;min-width:320px}
.search-bar{padding:8px;border-radius:6px;border:1px solid #d1d5db;margin:12px 0;min-width:220px}
.unit-toggle{display:flex;gap:10px;align-items:center}
.alerts{padding-left:16px}
.table button{margin-right:6px}
/* --- Borrowing View Styling --- */
#view-borrowing {
  padding: 20px;
}

#view-borrowing .view-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
}

#view-borrowing .view-header h2 {
  margin: 0;
}

#view-borrowing .btn {
  margin-left: 5px;
  margin-bottom: 5px;
}

#view-borrowing .card.full {
  padding: 10px;
  background-color: #fff;
  border-radius: 6px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  overflow-x: auto;
}

#borrowingTable {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

#borrowingTable th,
#borrowingTable td {
  padding: 8px 10px;
  border: 1px solid #ccc;
  text-align: left;
}

#borrowingTable th {
  background-color: #f0f0f0;
}

#borrowingTable tr:nth-child(even) {
  background-color: #fafafa;
}

/* Modal Borrowing Form */
#modalBorrow .modal-card {
  width: 350px;
  padding: 20px;
}

#modalBorrow label {
  display: block;
  margin-bottom: 10px;
}

#modalBorrow select,
#modalBorrow input {
  width: 100%;
  padding: 6px 8px;
  margin-top: 4px;
  border: 1px solid #ccc;
  border-radius: 4px;
}

/* Unit Toggle in Borrowing Modal */
.unit-toggle {
  display: flex;
  gap: 15px;
  margin-top: 5px;
}

.unit-toggle label {
  display: flex;
  align-items: center;
  gap: 5px;
}

#modalBorrow .row {
  display: flex;
  justify-content: flex-end;
  gap: 10px;
  margin-top: 15px;
}
/* --- SIDEBAR SETUP --- */
.sidebar {
  position: fixed;
  left: -240px; /* Hidden off-screen by default */
  top: 0;
  height: 100%;
  width: 220px;
  background: #0b1220;
  color: #fff;
  transition: left 0.3s ease; /* Smooth slide animation */
  z-index: 1000;
  display: flex;
  flex-direction: column;
  padding: 20px;
}

/* When sidebar is active (Open) */
.sidebar.active {
  left: 0;
}

/* --- TOGGLE BUTTON ANIMATION --- */
#btnToggleSidebar {
  position: fixed;
  top: 15px;
  
  /* STATE 1: CLOSED -> Top Left of white screen */
  left: 15px; 
  
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 8px 12px; /* Slightly wider for better touch target */
  border-radius: 4px;
  cursor: pointer;
  z-index: 1100; /* Must be higher than sidebar z-index */
  
  /* This ensures the button slides smoothly with the sidebar */
  transition: left 0.3s ease; 
}

/* STATE 2: OPEN -> Top Right of the Sidebar */
/* The ~ symbol means: "If sidebar is active, affect the button next to it" */
.sidebar.active ~ #btnToggleSidebar {
  /* Calculation: Sidebar Width (220px) - Button Width (~50px) = 170px */
  left: 170px; 
}

/* Optional: Main content pushes over */
.main {
  transition: margin-left 0.3s ease;
  margin-left: 0;
}
.main.sidebar-active {
  margin-left: 220px; /* Matches sidebar width */
}

